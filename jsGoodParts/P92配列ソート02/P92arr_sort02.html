<!doctype html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>配列のソート　【汎用バージョン　区別なし】大文字　小文字</title>
</head>
<body>
	<p></p>
	<script>	
		/*メンバの名前を受け取って、比較関数を返す関数。その名前のメンバをもつオブジェクトの配列をソートすることができる*/

		var by = function(name){
			return function(o, p){
				var a, b;
				if(typeof o === 'object' && typeof p === 'object' && o && p){
					a = o[name];
					b = p[name];
					if(a === b){
						return 0;
					}
					if(typeof a === typeof b){
						return a < b ? -1:1;
					}
					return typeof a < typeof b ? -1:1;
				}else{
					throw{
						name:'Error',
						message: name+'を含むオブジェクトが必要です。'
					};
				}
			};
		};

		var s = [
			{first:'Joe', last:'Besser'},
			{first:'Moe', last:'Howard'},
			{first:'Joe', last:'DeRita'},
			{first:'Shemp', last:'Howard'},
			{first:'Larry', last:'Fine'},
			{first:'Curly', last:'Howard'}
		];
		console.log(s);
		console.log(s.sort(by('first')));

		
	</script>
</body>
</html>